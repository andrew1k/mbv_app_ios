import{ap as C,r as F,o as c,c as f,w as s,V,a,u as e,aq as S,a4 as E,a3 as q,h as u,as as L,aj as x,ar as b,x as i}from"./index-fc3fba16.js";import{u as M,a as g,c as v}from"./index.esm-632ca3bc.js";import{V as N}from"./VForm-21db8aa9.js";const $={__name:"LoginForm",setup(T){const{appLogin:B}=C(),l=F(!1),{handleSubmit:w,isSubmitting:y}=M(),{value:o,errorMessage:m,handleBlur:_}=g("email",v().trim().required("Поле email должно быть заполнено").email("Введите валидный email")),{value:n,errorMessage:d,handleBlur:k}=g("password",v().trim().required("Это поле должно быть заполнено").min(6,"Это поле должно иметь не менее 6 символов").max(32,"Не должно иметь более 32 символов")),h=w(async p=>{await B({...p})});return(p,r)=>(c(),f(V,{variant:"text",rounded:"0","max-width":"600",class:"mx-auto"},{default:s(()=>[a(V,{class:"ma-2 pa-2"},{default:s(()=>[e(y)?(c(),f(S,{key:0,indeterminate:""})):E("",!0),a(q,null,{default:s(()=>[u("Войти")]),_:1}),a(N,{onSubmit:L(e(h),["prevent"])},{default:s(()=>[a(x,{label:"Email",type:"email",modelValue:e(o),"onUpdate:modelValue":r[0]||(r[0]=t=>b(o)?o.value=t:null),"error-messages":e(m),onBlur:e(_)},null,8,["modelValue","error-messages","onBlur"]),a(x,{label:"Пароль",type:l.value?"text":"password",modelValue:e(n),"onUpdate:modelValue":r[1]||(r[1]=t=>b(n)?n.value=t:null),"error-messages":e(d),onBlur:e(k),"append-inner-icon":l.value?"mdi-eye-off":"mdi-eye","onClick:appendInner":r[2]||(r[2]=t=>l.value=!l.value)},null,8,["type","modelValue","error-messages","onBlur","append-inner-icon"]),a(i,{class:"my-2",size:"x-large",disabled:!!e(m)||!!e(d),block:"",type:"submit"},{default:s(()=>[u("Войти")]),_:1},8,["disabled"]),a(i,{block:"",variant:"outlined",size:"large",to:"/auth/signup"},{default:s(()=>[u("Зарегистрироваться")]),_:1}),a(i,{to:"/auth/restorePassword",variant:"text",block:"",text:"забыли пароль?",class:"mt-5"})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}};export{$ as default};
