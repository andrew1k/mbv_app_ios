import{z as ee,aM as le,aN as ae,E as re,aO as oe,aP as te,aQ as se,I as y,r as x,aR as U,L as ue,aS as I,a as r,aT as ne,ap as ie,o as G,c as O,w as u,V as R,u as a,aq as de,a4 as z,a3 as me,h as d,as as $,aj as b,ar as i,a8 as A,x as L}from"./index-fc3fba16.js";import{u as pe,a as m,c as h,b as ve,d as Ve}from"./index.esm-632ca3bc.js";import{V as ce}from"./VForm-21db8aa9.js";import{V as be,a as j}from"./VRadioGroup-12603a07.js";import{V as p}from"./VCheckbox-997bc3e0.js";const ge=ee({id:String,text:String,...le(ae({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),fe=re()({name:"VTooltip",props:ge(),emits:{"update:modelValue":o=>!0},setup(o,w){let{slots:s}=w;const n=oe(o,"modelValue"),{scopeId:t}=te(),g=se(),S=y(()=>o.id||`v-tooltip-${g}`),N=x(),f=y(()=>o.location.split(" ").length>1?o.location:o.location+" center"),C=y(()=>o.origin==="auto"||o.origin==="overlap"||o.origin.split(" ").length>1||o.location.split(" ").length>1?o.origin:o.origin+" center"),M=y(()=>o.transition?o.transition:n.value?"scale-transition":"fade-transition"),B=y(()=>U({"aria-describedby":S.value},o.activatorProps));return ue(()=>{const[P]=I.filterProps(o);return r(I,U({ref:N,class:["v-tooltip",o.class],style:o.style,id:S.value},P,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,transition:M.value,absolute:!0,location:f.value,origin:C.value,persistent:!0,role:"tooltip",activatorProps:B.value,_disableGlobalStack:!0},t),{activator:s.activator,default:function(){var k;for(var v=arguments.length,V=new Array(v),c=0;c<v;c++)V[c]=arguments[c];return((k=s.default)==null?void 0:k.call(s,...V))??o.text}})}),ne({},N)}}),Ne={__name:"SignupForm",setup(o){const{appSignup:w}=ie();let s=x(!1),n=x(!1);const t=x(["familyStatus","baptism","churchMembership","churchSteps","churchServs"]),g=x(!0),{handleSubmit:S,isSubmitting:N}=pe(),{value:f,errorMessage:C,handleBlur:M}=m("firstName",h().min(2).required("Это поле обязательно").max(32)),{value:B,errorMessage:P,handleBlur:v}=m("secondName",h().min(2).required("Это поле обязательно").max(32)),{value:V,errorMessage:c,handleBlur:k}=m("phoneNumber",ve().required("Это поле обязательно")),{value:E,errorMessage:H,handleBlur:Q}=m("birthDate",Ve().required("Это поле обязательно")),{value:T,errorMessage:W,handleBlur:J}=m("email",h().trim().required("Поле email должно быть заполнено").email("Введите валидный email")),{value:q,errorMessage:K,handleBlur:X}=m("password",h().trim().required("Это поле должно быть заполнено").min(6,"Это поле должно иметь не менее 6 символов").max(32,"Не должно иметь более 32 символов")),{value:F,errorMessage:Y,handleBlur:Z}=m("personGender",h().required("Это поле обязательно")),_=S(async D=>{await w({...D},t)});return(D,e)=>(G(),O(R,{variant:"text",rounded:"0","max-width":"600",class:"mx-auto"},{default:u(()=>[r(R,{class:"ma-2 pa-2"},{default:u(()=>[a(N)?(G(),O(de,{key:0,indeterminate:""})):z("",!0),r(me,null,{default:u(()=>[d("Зарегистрироваться")]),_:1}),r(ce,{onSubmit:$(a(_),["prevent"])},{default:u(()=>[r(b,{label:"Имя",modelValue:a(f),"onUpdate:modelValue":e[0]||(e[0]=l=>i(f)?f.value=l:null),"error-messages":a(C),onBlur:a(M)},null,8,["modelValue","error-messages","onBlur"]),r(b,{label:"Фамилия",modelValue:a(B),"onUpdate:modelValue":e[1]||(e[1]=l=>i(B)?B.value=l:null),"error-messages":a(P),onBlur:a(v)},null,8,["modelValue","error-messages","onBlur"]),r(b,{label:"Ваш номер телефона",modelValue:a(V),"onUpdate:modelValue":e[2]||(e[2]=l=>i(V)?V.value=l:null),"error-messages":a(c),onBlur:a(k),prefix:"+7",counter:"10"},null,8,["modelValue","error-messages","onBlur"]),r(b,{label:"День рождения",modelValue:a(E),"onUpdate:modelValue":e[3]||(e[3]=l=>i(E)?E.value=l:null),"error-messages":a(H),onBlur:a(Q),type:"date"},null,8,["modelValue","error-messages","onBlur"]),r(b,{label:"Email",modelValue:a(T),"onUpdate:modelValue":e[4]||(e[4]=l=>i(T)?T.value=l:null),"error-messages":a(W),onBlur:a(J)},null,8,["modelValue","error-messages","onBlur"]),r(b,{label:"Пароль",modelValue:a(q),"onUpdate:modelValue":e[5]||(e[5]=l=>i(q)?q.value=l:null),"error-messages":a(K),onBlur:a(X),type:a(s)?"text":"password","append-inner-icon":a(s)?"mdi-eye-off":"mdi-eye","onClick:appendInner":e[6]||(e[6]=l=>i(s)?s.value=!a(s):s=!a(s))},null,8,["modelValue","error-messages","onBlur","type","append-inner-icon"]),r(be,{label:"Ваш пол",modelValue:a(F),"onUpdate:modelValue":e[7]||(e[7]=l=>i(F)?F.value=l:null),"error-messages":a(Y),onBlur:a(Z),inline:""},{default:u(()=>[r(j,{label:"Мужской",value:"male"}),r(j,{label:"Женский",value:"female"})]),_:1},8,["modelValue","error-messages","onBlur"]),r(p,{modelValue:a(n),"onUpdate:modelValue":e[10]||(e[10]=l=>i(n)?n.value=l:n=l),color:"primary",density:"compact"},{label:u(()=>[A("div",null,[d(" Я согласен с "),r(fe,{location:"bottom"},{activator:u(({props:l})=>[A("a",U({target:"_blank",href:"https://mbv.spb.ru/agreement/"},l,{onClick:e[8]||(e[8]=$(()=>{},["stop"]))})," Политикой конфиденциальности ",16),d(" и "),A("a",U({target:"_blank",href:"https://mbv.spb.ru/processing-regulation/"},l,{onClick:e[9]||(e[9]=$(()=>{},["stop"]))})," Положением об обработке персональных данных ",16)]),default:u(()=>[d(" Откроется в новом браузерном окне ")]),_:1}),d(" персональных данных ")])]),_:1},8,["modelValue"]),r(p,{color:"primary",modelValue:g.value,"onUpdate:modelValue":e[11]||(e[11]=l=>g.value=l),density:"compact","hide-details":"",label:"Согласен передавать данные для улучшения и обучения"},null,8,["modelValue"]),g.value?z("",!0):(G(),O(R,{key:0},{default:u(()=>[r(p,{modelValue:t.value,"onUpdate:modelValue":e[12]||(e[12]=l=>t.value=l),label:"семейное положение",density:"compact","hide-details":"",value:"familyStatus"},null,8,["modelValue"]),r(p,{modelValue:t.value,"onUpdate:modelValue":e[13]||(e[13]=l=>t.value=l),label:"информация о крещении",density:"compact","hide-details":"",value:"baptism"},null,8,["modelValue"]),r(p,{modelValue:t.value,"onUpdate:modelValue":e[14]||(e[14]=l=>t.value=l),label:"членство церкви",density:"compact","hide-details":"",value:"churchMembership"},null,8,["modelValue"]),r(p,{modelValue:t.value,"onUpdate:modelValue":e[15]||(e[15]=l=>t.value=l),label:"пройденные церковные шаги",density:"compact","hide-details":"",value:"churchSteps"},null,8,["modelValue"]),r(p,{modelValue:t.value,"onUpdate:modelValue":e[16]||(e[16]=l=>t.value=l),label:"ваши служения в церкви",density:"compact","hide-details":"",value:"churchServs"},null,8,["modelValue"])]),_:1})),r(L,{class:"my-2",block:"",size:"x-large",type:"submit",disabled:!a(n)},{default:u(()=>[d("Создать Аккаунт")]),_:1},8,["disabled"]),r(L,{class:"mt-4",block:"",size:"large",variant:"outlined",to:"/auth/login"},{default:u(()=>[d("Войти")]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1}))}};export{Ne as default};
